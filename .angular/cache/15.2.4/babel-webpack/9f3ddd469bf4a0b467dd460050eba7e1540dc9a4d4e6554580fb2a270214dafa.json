{"ast":null,"code":"import { Obra } from './../../../modelo/Obra';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../servicios/obra/obra.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ObraListComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 6)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ObraListComponent_tr_18_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const obra_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.ver(obra_r1));\n    });\n    i0.ɵɵtext(7, \"Ver\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const obra_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obra_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obra_r1.linecount);\n  }\n}\nexport class ObraListComponent {\n  constructor(obraService, router) {\n    this.obraService = obraService;\n    this.router = router;\n    this.obra = new Obra();\n    this.author = \"\";\n  }\n  ngOnInit() {\n    this.cargarDatos();\n  }\n  cargarDatos() {\n    this.author = localStorage.getItem(\"id_Author\");\n    this.obraService.getByAuthor(this.author).subscribe(datos => {\n      this.obras = datos;\n    });\n  }\n  crear() {\n    this.router.navigate(['obra/crear']);\n  }\n  ver(obra) {\n    localStorage.setItem(\"id_Obra\", obra.title);\n    this.router.navigate(['obra/listar']);\n  }\n}\nObraListComponent.ɵfac = function ObraListComponent_Factory(t) {\n  return new (t || ObraListComponent)(i0.ɵɵdirectiveInject(i1.ObraService), i0.ɵɵdirectiveInject(i2.Router));\n};\nObraListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ObraListComponent,\n  selectors: [[\"app-obra-list\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"btn\", \"btn-success\", 2, \"margin-left\", \"10px\", 3, \"click\"], [1, \"table\", \"table-hover\"], [1, \"text-center\"], [\"class\", \"text-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-warning\", 3, \"click\"]],\n  template: function ObraListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ObraListComponent_Template_button_click_6_listener() {\n        return ctx.crear();\n      });\n      i0.ɵɵtext(7, \"Nuevo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"table\", 5)(9, \"thead\")(10, \"tr\", 6)(11, \"th\");\n      i0.ɵɵtext(12, \"T\\u00EDtulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Lineas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ObraListComponent_tr_18_Template, 8, 2, \"tr\", 7);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Obras de : \", ctx.author, \"\");\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.obras);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,IAAI,QAAQ,wBAAwB;;;;;;;;ICgBzBC,6BAAmD;IAC3CA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IACgCA;MAAA;MAAA;MAAA;MAAA,OAASA,kCAAS;IAAA,EAAC;IAACA,mBAAG;IAAAA,iBAAS;;;;IAHhEA,eAAc;IAAdA,mCAAc;IACdA,eAAkB;IAAlBA,uCAAkB;;;ADV9C,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAJ5D,SAAI,GAAS,IAAIL,IAAI,EAAE;IAEvB,WAAM,GAAW,EAAE;EAEqD;EAExEM,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAW;IACT,IAAI,CAACC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAE;IAChD,IAAI,CAACN,WAAW,CAACO,WAAW,CAAC,IAAI,CAACH,MAAM,CAAC,CAACI,SAAS,CAACC,KAAK,IAAG;MAC1D,IAAI,CAACC,KAAK,GAAGD,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAE,KAAK;IACH,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EAEAC,GAAG,CAACC,IAAU;IACZT,YAAY,CAACU,OAAO,CAAC,SAAS,EAAED,IAAI,CAACE,KAAK,CAAC;IAC3C,IAAI,CAACf,MAAM,CAACW,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;EACvC;;AA1BWd,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV9BxB,8BAAuB;MAGPA,YAAqB;MAAAA,iBAAK;MAGlCA,8BAAuB;MAEXA;QAAA,OAASyB,WAAO;MAAA,EAAC;MAAoDzB,qBAAK;MAAAA,iBAAS;MAC3FA,gCAAiC;MAGjBA,4BAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MAGzBA,8BAAO;MACHA,kEAMK;MACTA,iBAAQ;;;MAtBRA,eAAqB;MAArBA,oDAAqB;MAewBA,gBAAQ;MAARA,mCAAQ","names":["Obra","i0","ObraListComponent","constructor","obraService","router","ngOnInit","cargarDatos","author","localStorage","getItem","getByAuthor","subscribe","datos","obras","crear","navigate","ver","obra","setItem","title","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\PruebaViam\\PruebaFront\\PruebaFront\\src\\app\\pages\\obra\\obra-list\\obra-list.component.ts","E:\\PruebaViam\\PruebaFront\\PruebaFront\\src\\app\\pages\\obra\\obra-list\\obra-list.component.html"],"sourcesContent":["import { Router } from '@angular/router';\nimport { ObraService } from './../../../servicios/obra/obra.service';\nimport { Obra } from './../../../modelo/Obra';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-obra-list',\n  templateUrl: './obra-list.component.html',\n  styleUrls: ['./obra-list.component.css']\n})\nexport class ObraListComponent {\n\n  obra: Obra = new Obra();\n  obras!: Obra[];\n  author: string = \"\";\n\n  constructor(private obraService: ObraService, private router: Router) { }\n\n  ngOnInit() {\n    this.cargarDatos();\n  }\n\n  cargarDatos() {\n    this.author = localStorage.getItem(\"id_Author\")!;\n    this.obraService.getByAuthor(this.author).subscribe(datos => {\n      this.obras = datos;\n    });\n  }\n\n  crear() {\n    this.router.navigate(['obra/crear']);\n  }\n\n  ver(obra: Obra): void {\n    localStorage.setItem(\"id_Obra\", obra.title);\n    this.router.navigate(['obra/listar']);\n  }\n}","<div class=\"container\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h3>Obras de : {{author}}</h3>\n        </div>\n\n        <div class=\"card-body\">\n\n            <button (click)=\"crear()\" class=\"btn btn-success\" style=\"margin-left: 10px;\">Nuevo</button>\n            <table class=\"table table-hover\">\n                <thead>\n                    <tr class=\"text-center\">\n                        <th>Título</th>\n                        <th>Lineas</th>\n                        <th>Acciones</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr class=\"text-center\" *ngFor=\"let obra of obras\">\n                        <td>{{obra.title}}</td>\n                        <td>{{obra.linecount}}</td>\n                        <td>\n                            <button class=\"btn btn-warning\" (click)=\"ver(obra)\">Ver</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}