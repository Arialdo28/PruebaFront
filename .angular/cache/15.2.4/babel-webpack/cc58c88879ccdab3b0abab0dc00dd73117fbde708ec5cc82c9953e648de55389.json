{"ast":null,"code":"import { Obra } from './../../../modelo/Obra';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../servicios/obra/obra.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ObraListComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 6)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ObraListComponent_tr_18_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const obra_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.ver(obra_r2));\n    });\n    i0.ɵɵtext(7, \"Ver\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const obra_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obra_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obra_r2.linecount);\n  }\n}\nfunction ObraListComponent_li_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const line_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(line_r5);\n  }\n}\nexport class ObraListComponent {\n  constructor(obraService, router) {\n    this.obraService = obraService;\n    this.router = router;\n    this.obra = new Obra();\n    this.author = \"\";\n  }\n  ngOnInit() {\n    this.cargarDatos();\n  }\n  cargarDatos() {\n    this.author = localStorage.getItem(\"id_Author\");\n    this.obraService.getByAuthor(this.author).subscribe(datos => {\n      this.obras = datos;\n    });\n  }\n  crear() {\n    this.router.navigate(['obra/crear']);\n  }\n  ver(obra) {\n    localStorage.setItem(\"id_Obra\", obra.title);\n    this.router.navigate(['obra/listar']);\n  }\n}\nObraListComponent.ɵfac = function ObraListComponent_Factory(t) {\n  return new (t || ObraListComponent)(i0.ɵɵdirectiveInject(i1.ObraService), i0.ɵɵdirectiveInject(i2.Router));\n};\nObraListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ObraListComponent,\n  selectors: [[\"app-obra-list\"]],\n  decls: 34,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"btn\", \"btn-success\", 2, \"margin-left\", \"10px\", 3, \"click\"], [1, \"table\", \"table-hover\"], [1, \"text-center\"], [\"class\", \"text-center\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"exampleModalLong\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLongTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLongTitle\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"data-toggle\", \"modal\", \"data-target\", \"#exampleModalLong\", 1, \"btn\", \"btn-warning\", 3, \"click\"]],\n  template: function ObraListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ObraListComponent_Template_button_click_6_listener() {\n        return ctx.crear();\n      });\n      i0.ɵɵtext(7, \"Nuevo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"table\", 5)(9, \"thead\")(10, \"tr\", 6)(11, \"th\");\n      i0.ɵɵtext(12, \"T\\u00EDtulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Lineas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ObraListComponent_tr_18_Template, 8, 2, \"tr\", 7);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(19, \"div\", 8)(20, \"div\", 9)(21, \"div\", 10)(22, \"div\", 11)(23, \"h5\", 12);\n      i0.ɵɵtext(24, \"Line de obra.title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 13)(26, \"span\", 14);\n      i0.ɵɵtext(27, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 15)(29, \"ul\");\n      i0.ɵɵtemplate(30, ObraListComponent_li_30_Template, 2, 1, \"li\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\", 17)(32, \"button\", 18);\n      i0.ɵɵtext(33, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Obras de : \", ctx.author, \"\");\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.obras);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.obra.lines);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,IAAI,QAAQ,wBAAwB;;;;;;;;ICgBzBC,6BAAmD;IAC3CA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IACgCA;MAAA;MAAA;MAAA;MAAA,OAASA,kCAAS;IAAA,EAAC;IACfA,mBAAG;IAAAA,iBAAS;;;;IAJhDA,eAAc;IAAdA,mCAAc;IACdA,eAAkB;IAAlBA,uCAAkB;;;;;IAwB1BA,0BAAoC;IAAAA,YAAQ;IAAAA,iBAAK;;;;IAAbA,eAAQ;IAARA,6BAAQ;;;ADlChE,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAJ5D,SAAI,GAAS,IAAIL,IAAI,EAAE;IAEvB,WAAM,GAAW,EAAE;EAEqD;EAExEM,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAW;IACT,IAAI,CAACC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAE;IAChD,IAAI,CAACN,WAAW,CAACO,WAAW,CAAC,IAAI,CAACH,MAAM,CAAC,CAACI,SAAS,CAACC,KAAK,IAAG;MAC1D,IAAI,CAACC,KAAK,GAAGD,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAE,KAAK;IACH,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EAEAC,GAAG,CAACC,IAAU;IACZT,YAAY,CAACU,OAAO,CAAC,SAAS,EAAED,IAAI,CAACE,KAAK,CAAC;IAC3C,IAAI,CAACf,MAAM,CAACW,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;EACvC;;AA1BWd,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV9BxB,8BAAuB;MAGPA,YAAqB;MAAAA,iBAAK;MAGlCA,8BAAuB;MAEXA;QAAA,OAASyB,WAAO;MAAA,EAAC;MAAoDzB,qBAAK;MAAAA,iBAAS;MAC3FA,gCAAiC;MAGjBA,4BAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MAGzBA,8BAAO;MACHA,kEAOK;MACTA,iBAAQ;MAMxBA,+BACuB;MAI4CA,mCAAkB;MAAAA,iBAAK;MAC1EA,mCAA4E;MAC/CA,uBAAO;MAAAA,iBAAO;MAG/CA,gCAAwB;MAEhBA,mEAAiD;MACrDA,iBAAK;MAETA,gCAA0B;MAC+CA,uBAAM;MAAAA,iBAAS;;;MA7CpFA,eAAqB;MAArBA,oDAAqB;MAewBA,gBAAQ;MAARA,mCAAQ;MA0B5BA,gBAAa;MAAbA,wCAAa","names":["Obra","i0","ObraListComponent","constructor","obraService","router","ngOnInit","cargarDatos","author","localStorage","getItem","getByAuthor","subscribe","datos","obras","crear","navigate","ver","obra","setItem","title","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\PruebaViam\\PruebaFront\\PruebaFront\\src\\app\\pages\\obra\\obra-list\\obra-list.component.ts","E:\\PruebaViam\\PruebaFront\\PruebaFront\\src\\app\\pages\\obra\\obra-list\\obra-list.component.html"],"sourcesContent":["import { Router } from '@angular/router';\nimport { ObraService } from './../../../servicios/obra/obra.service';\nimport { Obra } from './../../../modelo/Obra';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-obra-list',\n  templateUrl: './obra-list.component.html',\n  styleUrls: ['./obra-list.component.css']\n})\nexport class ObraListComponent {\n\n  obra: Obra = new Obra();\n  obras!: Obra[];\n  author: string = \"\";\n\n  constructor(private obraService: ObraService, private router: Router) { }\n\n  ngOnInit() {\n    this.cargarDatos();\n  }\n\n  cargarDatos() {\n    this.author = localStorage.getItem(\"id_Author\")!;\n    this.obraService.getByAuthor(this.author).subscribe(datos => {\n      this.obras = datos;\n    });\n  }\n\n  crear() {\n    this.router.navigate(['obra/crear']);\n  }\n\n  ver(obra: Obra): void {\n    localStorage.setItem(\"id_Obra\", obra.title);\n    this.router.navigate(['obra/listar']);\n  }\n}","<div class=\"container\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h3>Obras de : {{author}}</h3>\n        </div>\n\n        <div class=\"card-body\">\n\n            <button (click)=\"crear()\" class=\"btn btn-success\" style=\"margin-left: 10px;\">Nuevo</button>\n            <table class=\"table table-hover\">\n                <thead>\n                    <tr class=\"text-center\">\n                        <th>Título</th>\n                        <th>Lineas</th>\n                        <th>Acciones</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr class=\"text-center\" *ngFor=\"let obra of obras\">\n                        <td>{{obra.title}}</td>\n                        <td>{{obra.linecount}}</td>\n                        <td>\n                            <button class=\"btn btn-warning\" (click)=\"ver(obra)\" data-toggle=\"modal\"\n                                data-target=\"#exampleModalLong\">Ver</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n\n<div class=\"modal fade\" id=\"exampleModalLong\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLongTitle\"\n    aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Line de obra.title</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <ul>\n                    <li *ngFor=\"let line of obra.lines\">{{line}}</li>\n                </ul>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}